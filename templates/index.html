{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkyHigh | Premium Flight Experience</title>
    <link rel="icon" href="{% static 'img/favicon.png' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Outfit:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/material_red.css">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#B91C1C',
                        secondary: '#B45309',
                        dark: '#1E293B',
                    },
                    fontFamily: {
                        serif: ['"Playfair Display"', 'serif'],
                        sans: ['"Outfit"', 'sans-serif'],
                        mono: ['"Fira Code"', 'monospace'],
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-image: url('https://images.unsplash.com/photo-1436491865332-7a61a109cc05?q=80&w=2074&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        .flight-card {
            background: white;
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .flight-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .flatpickr-calendar {
            background: #fff !important;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2) !important;
            border: none !important;
            border-radius: 1rem !important;
        }

        .flatpickr-day.selected {
            background: #B91C1C !important;
            border-color: #B91C1C !important;
        }
    </style>
</head>

<body class="font-sans text-black antialiased min-h-screen flex flex-col">
    <nav class="bg-white/95 backdrop-blur-md shadow-md fixed w-full z-50 transition-all duration-300">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center gap-2 text-2xl font-serif font-bold text-primary">
                <i class="fas fa-plane-departure"></i> SkyHigh
            </div>
            <div class="flex items-center gap-4 md:gap-8 font-medium text-black">
                <a href="/" class="text-primary font-bold">Book Flight</a>
                <a href="/my-trips/" class="hover:text-primary transition-colors font-bold">My Trips</a>
                <a href="/check-in/" class="hover:text-primary transition-colors font-bold">Check-in</a>
                <a href="/profile/" class="profile-link hover:text-primary transition-colors font-bold">Profile</a>
                <a href="/login/"
                    class="login-btn bg-primary text-white px-4 py-2 md:px-6 md:py-2 rounded-full hover:bg-red-700 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 font-bold whitespace-nowrap">Login</a>
            </div>
        </div>
    </nav>

    <main class="flex-grow flex flex-col items-center justify-center px-4 pt-32 pb-12">
        <div class="hero-section text-center mb-12">
            <h1 class="font-serif text-5xl md:text-6xl font-bold text-black mb-4 drop-shadow-lg">
                Experience Premium Travel
            </h1>
            <p class="text-xl text-black max-w-2xl mx-auto drop-shadow-md font-light">
                Discover the world with unparalleled comfort and style. Your journey begins here.
            </p>
        </div>

        <div class="glass-panel w-full max-w-5xl p-8 rounded-3xl relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-primary to-secondary"></div>

            <form id="search-form" class="grid grid-cols-1 md:grid-cols-4 gap-6">
                <div class="form-group">
                    <label class="block text-black font-bold mb-2 text-lg"><i
                            class="fas fa-plane-departure text-primary mr-2"></i> From</label>
                    <div class="relative">
                        <input type="text" name="origin" placeholder="City or Airport" required list="airports-list"
                            autocomplete="off"
                            class="w-full p-4 pl-10 text-lg border-2 border-gray-300 rounded-xl focus:border-primary focus:outline-none transition-colors bg-white text-black placeholder-gray-500 font-bold">
                        <i
                            class="fas fa-map-marker-alt absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500"></i>
                    </div>
                </div>
                <div class="form-group">
                    <label class="block text-black font-bold mb-2 text-lg"><i
                            class="fas fa-plane-arrival text-primary mr-2"></i> To</label>
                    <div class="relative">
                        <input type="text" name="destination" placeholder="City or Airport" required
                            list="airports-list" autocomplete="off"
                            class="w-full p-4 pl-10 text-lg border-2 border-gray-300 rounded-xl focus:border-primary focus:outline-none transition-colors bg-white text-black placeholder-gray-500 font-bold">
                        <i
                            class="fas fa-map-marker-alt absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500"></i>
                    </div>
                </div>
                <div class="form-group">
                    <label class="block text-black font-bold mb-2 text-lg"><i
                            class="fas fa-calendar-alt text-primary mr-2"></i> Date</label>
                    <div class="relative">
                        <input type="text" id="date" name="date" placeholder="Select Date" required
                            class="w-full p-4 pl-10 text-lg border-2 border-gray-300 rounded-xl focus:border-primary focus:outline-none transition-colors bg-white text-black placeholder-gray-500 font-bold">
                        <i class="fas fa-calendar absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500"></i>
                    </div>
                </div>
                <div class="form-group flex items-end">
                    <button type="submit"
                        class="search-btn w-full bg-primary hover:bg-red-700 text-white font-bold py-4 px-6 rounded-xl text-lg shadow-lg transform transition hover:-translate-y-0.5 flex items-center justify-center gap-3 h-[64px]">
                        <span class="btn-text">Search Flights</span>
                        <div
                            class="spinner hidden w-6 h-6 border-4 border-white border-t-transparent rounded-full animate-spin">
                        </div>
                    </button>
                </div>

                <input type="hidden" name="sort_by" value="price_asc">
            </form>
            <datalist id="airports-list"></datalist>
        </div>

        <div id="results-container" class="w-full max-w-5xl mt-8 hidden space-y-4">
        </div>
    </main>

    <footer class="bg-white/95 backdrop-blur-md border-t border-gray-200 py-8 mt-auto">
        <div class="container mx-auto px-6 text-center">
            <div class="flex justify-center gap-8 mb-4 text-gray-600 font-medium">
                <a href="/about/" class="hover:text-primary transition-colors">About Us</a>
                <a href="/contact/" class="hover:text-primary transition-colors">Contact</a>
                <a href="/privacy/" class="hover:text-primary transition-colors">Privacy Policy</a>
                <a href="/terms/" class="hover:text-primary transition-colors">Terms of Service</a>
            </div>
            <div class="text-gray-500 text-sm font-bold">
                &copy; 2026 SkyHigh Airlines. All rights reserved.
            </div>
        </div>
    </footer>

    <div id="logout-modal" class="modal hidden"
        style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); backdrop-filter: blur(8px); display: flex; align-items: center; justify-content: center; z-index: 2000; opacity: 0; transition: opacity 0.3s ease;">
        <div class="glass-panel"
            style="max-width: 400px; width: 90%; padding: 2.5rem; text-align: center; background: white; border-radius: 24px; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); transform: scale(0.9); transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);">
            <div
                style="width: 80px; height: 80px; background: #FEF2F2; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem; border: 2px solid #FECACA; box-shadow: 0 4px 6px -1px rgba(185, 28, 28, 0.1);">
                <i class="fas fa-plane-departure"
                    style="font-size: 2rem; color: #B91C1C; transform: rotate(-45deg);"></i>
            </div>
            <h3
                style="margin-bottom: 0.5rem; font-size: 1.8rem; font-family: 'Playfair Display', serif; font-weight: 700; color: #1E293B;">
                Leaving so soon?</h3>
            <p style="color: #64748b; margin-bottom: 2rem; font-family: 'Outfit', sans-serif; font-size: 1.1rem;">
                Ready
                to disembark from your session?</p>
            <div style="display: flex; gap: 1rem; justify-content: center;">
                <button id="cancel-logout"
                    style="padding: 0.75rem 2rem; border-radius: 50px; border: 2px solid #e2e8f0; background: white; color: #64748b; font-weight: 600; cursor: pointer; transition: all 0.2s; font-family: 'Outfit', sans-serif;">Stay
                    Onboard</button>
                <button id="confirm-logout"
                    style="padding: 0.75rem 2rem; border-radius: 50px; border: none; background: linear-gradient(135deg, #B91C1C 0%, #991B1B 100%); color: white; font-weight: 600; cursor: pointer; box-shadow: 0 4px 15px -3px rgba(185, 28, 28, 0.4); transition: all 0.2s; font-family: 'Outfit', sans-serif;">Sign
                    Out</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="{% static 'js/app.js' %}"></script>
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            flatpickr("#date", {
                minDate: "today",
                dateFormat: "Y-m-d",
                theme: "material_red",
                disableMobile: "true",
                defaultDate: "today"
            });
        });
    </script>
</body>

</html>
